<html>
<head>
    <meta charset="utf-8" />
<meta name="description" content="" />
<meta name="viewport" content="width=device-width, initial-scale=1" />

<title>二分查找合集 | Sugar&#39;s Blog</title>

<link rel="shortcut icon" href="https://sugar940.github.io//favicon.ico?v=1672988930160">

<link href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://sugar940.github.io//styles/main.css">
<!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.0/dist/css/bootstrap.min.css"> -->

<style>
    hr {
        margin-top: 1rem;
        margin-bottom: 1rem;
        border: 0;
        border-top: 1px solid rgba(0, 0, 0, 0.1);
    }
</style>

<script src="https://cdn.jsdelivr.net/npm/@highlightjs/cdn-assets/highlight.min.js"></script>
<script src="https://cdn.bootcss.com/highlight.js/9.15.10/languages/dockerfile.min.js"></script>
<script src="https://cdn.bootcss.com/highlight.js/9.15.10/languages/dart.min.js"></script>

<!-- <script src="https://cdn.jsdelivr.net/npm/moment@2.27.0/moment.min.js"></script> -->
<!-- <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js"></script> -->
<!-- <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script> -->
<!-- <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.0/dist/js/bootstrap.min.js"></script> -->
<!-- DEMO JS -->
<!--<script src="media/scripts/index.js"></script>-->


    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.css">
</head>
<body>
<div class="main gt-bg-theme-color-first">
    <nav class="navbar navbar-expand-lg">
    <div class="navbar-brand">
        <img class="user-avatar" src="/images/avatar.png" alt="头像">
        <div class="site-name gt-c-content-color-first">
            Sugar&#39;s Blog
        </div>
    </div>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
        aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation" id="changeNavbar">
        <i class="fas fa-bars gt-c-content-color-first" style="font-size: 18px"></i>
    </button>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <div class="navbar-nav mr-auto" style="text-align: center">
            
            <div class="nav-item">
                
                <a href="/" class="menu gt-a-link">
                    首页
                </a>
                
            </div>
            
            <div class="nav-item">
                
                <a href="/archives" class="menu gt-a-link">
                    归档
                </a>
                
            </div>
            
            <div class="nav-item">
                
                <a href="/tags" class="menu gt-a-link">
                    标签
                </a>
                
            </div>
            
            <div class="nav-item">
                
                <a href="/post/about" class="menu gt-a-link">
                    关于
                </a>
                
            </div>
            
        </div>
        <div style="text-align: center">
            <form id="gridea-search-form" style="position: relative" data-update="1672988930160"
                action="/search/">
                <input class="search-input" autocomplete="off" spellcheck="false" name="q" placeholder="搜索文章" />
                <i class="fas fa-search gt-c-content-color-first" style="position: absolute; top: 9px; left: 10px;"></i>
            </form>
        </div>
    </div>
</nav>
<script>
    /* 移动端导航栏展开/收起切换 */
    document.getElementById('changeNavbar').onclick = () => {
        var element = document.getElementById('navbarSupportedContent');
        if (element.style.display === 'none' || element.style.display === '') {
            element.style.display = 'block';
        } else {
            element.style.display = 'none';
        }
    }
</script>
    <div class="post-container">
        <div class="post-detail gt-bg-theme-color-second">
            <article class="gt-post-content">
                <h2 class="post-title">
                    二分查找合集
                </h2>
                <div class="post-info">
                    <time class="post-time gt-c-content-color-first">
                        · 2022-01-13 ·
                    </time>
                    
                        <a href="https://sugar940.github.io/tag/tZnDkn-od/" class="post-tags">
                            # 二分查找
                        </a>
                    
                        <a href="https://sugar940.github.io/tag/EbIJlgK9q/" class="post-tags">
                            # leetcode刷题记录
                        </a>
                    
                </div>
                <div class="post-content">
                    <h2 id="69求开方">69.求开方</h2>
<p><a href="https://leetcode.com/problems/sqrtx/description/">Leetcode</a> / <a href="https://leetcode-cn.com/problems/sqrtx/description/">力扣</a></p>
<pre><code>Input: 4
Output: 2

Input: 8
Output: 2
Explanation: The square root of 8 is 2.82842..., and since we want to return an integer, the decimal part will be truncated.
</code></pre>
<p>一个数 x 的开方 sqrt 一定在 0 ~ x 之间，并且满足 sqrt == x / sqrt。可以利用二分查找在 0 ~ x 之间查找 sqrt。</p>
<pre><code class="language-C++">class Solution {
public:
    int mySqrt(int x) {
        if(x&lt;=1){
            return x;
        }
        int left = 1;
        int right = x;//一个数的平方根不会超过它的一半
        int mid;
        while(left &lt;= right){
            mid = left+(right-left)/2;
            //如果中间值的平方比目标值大，说明范围应该缩小
            //此处用除法避免乘法溢出
            if(mid == x/mid){
                return mid;
            }else if(mid &gt; x/mid){
                right = mid-1;
            }else{
                left = mid + 1;
            }
        }
        return right;//循环结束时右边总是比左边小1，此题要求向下取整故取右边
    }
};
</code></pre>
<figure data-type="image" tabindex="1"><img src="https://sugar940.github.io//post-images/1642042660647.png" alt="" loading="lazy"></figure>
<h2 id="744大于给定元素的最小元素">744.大于给定元素的最小元素</h2>
<p><a href="https://leetcode.com/problems/find-smallest-letter-greater-than-target/description/">Leetcode</a> / <a href="https://leetcode-cn.com/problems/find-smallest-letter-greater-than-target/description/">力扣</a></p>
<pre><code>Input:
letters = [&quot;c&quot;, &quot;f&quot;, &quot;j&quot;]
target = &quot;d&quot;
Output: &quot;f&quot;

Input:
letters = [&quot;c&quot;, &quot;f&quot;, &quot;j&quot;]
target = &quot;k&quot;
Output: &quot;c&quot;
</code></pre>
<p>题目描述：给定一个有序的字符数组 letters 和一个字符 target，要求找出 letters 中大于 target 的最小字符，如果找不到就返回第 1 个字符。</p>
<pre><code class="language-C++">class Solution {
public:
    
    char nextGreatestLetter(vector&lt;char&gt;&amp; letters, char target) {
        
        int left = 0;
        int right = letters.size()-1;
        int mid;
        while(left &lt;= right){
            mid = left+(right-left)/2;
            //值大了，需要缩小区域
            if(letters[mid] &gt; target){//此处要注意是&gt;，不是&gt;=。因为小于等于在本题中都是要被抛弃的，要放在一起。
                right = mid-1;
            }else{
                left = mid+1;
            }
        }
        return left&lt;letters.size()?letters[left]:letters[0];
        
    }
};
</code></pre>
<figure data-type="image" tabindex="2"><img src="https://sugar940.github.io//post-images/1642042718356.png" alt="" loading="lazy"></figure>
<h2 id="540有叙述组的single-element">540.有叙述组的Single Element</h2>
<p><a href="https://leetcode.com/problems/single-element-in-a-sorted-array/description/">Leetcode</a> / <a href="https://leetcode-cn.com/problems/single-element-in-a-sorted-array/description/">力扣</a></p>
<pre><code>Input: [1, 1, 2, 3, 3, 4, 4, 8, 8]
Output: 2
</code></pre>
<p>题目描述：一个有序数组只有一个数不出现两次，找出这个数。</p>
<p>要求以 O(logN) 时间复杂度进行求解，因此不能遍历数组并进行异或操作来求解，这么做的时间复杂度为 O(N)。</p>
<pre><code class="language-C++">class Solution {
public:
    int singleNonDuplicate(vector&lt;int&gt;&amp; nums) {
        //观察数组可知唯一的数会改变数组成双成对的状态。
        //目标点的前半段nums[m] == nums[m+1],目标点范围[m+2,h]
        //目标点多后半段nums[m] != nums[m+1],目标点范围[l,m]
        //注意此处把m的坐标统一为分组的第一个数，即数组中的偶数坐标。
        int l = 0;
        int h = nums.size()-1;
        int m;
        while(l &lt; h){
            m = l + (h-l)/2;
            //统一为偶数
            if(m % 2 == 1){
                m = m-1;
            }
            if(nums[m] == nums[m+1]){
                //在前半段中
                //故往后缩小范围
                l = m+2;
            }else if(nums[m] != nums[m+1]){
                //在后半段中
                //往前缩小范围
                h = m;
            }
        }
        return nums[l];
    }
};
</code></pre>
<p>解题思路</p>
<p>由题目知该数组必定是奇数的数组，该题目可以转换成寻找非双胞胎的组合，即目标值之前的数组两两成对，目标值之后的数组两两不成对（起始坐标为偶数坐标0，2....)。</p>
<p>所以可以分解为以下步骤：</p>
<p>1、中间值取偶数位</p>
<p>2、中间值和后面的数两两成对：目标值在后面</p>
<p>3、中间值和后面的数两两不成对：目标值在前面</p>
<p>4、由于数组中必定存在目标值，所以此处不需要讨论l&lt;h的情况。</p>
<h2 id="278第一个错误版本">278.第一个错误版本</h2>
<p><a href="https://leetcode.com/problems/first-bad-version/description/">Leetcode</a> / <a href="https://leetcode-cn.com/problems/first-bad-version/description/">力扣</a></p>
<p>题目描述：给定一个元素 n 代表有 [1, 2, ..., n] 版本，在第 x 位置开始出现错误版本，导致后面的版本都错误。可以调用 isBadVersion(int x) 知道某个版本是否错误，要求找到第一个错误的版本。</p>
<p>如果第 m 个版本出错，则表示第一个错误的版本在 [l, m] 之间，令 h = m；否则第一个错误的版本在 [m + 1, h] 之间，令 l = m + 1。</p>
<p>因为 h 的赋值表达式为 h = m，因此循环条件为 l &lt; h。</p>
<pre><code>public int firstBadVersion(int n) {
    int l = 1, h = n;
    while (l &lt; h) {
        int mid = l + (h - l) / 2;
        if (isBadVersion(mid)) {
            h = mid;
        } else {
            l = mid + 1;
        }
    }
    return l;
}
</code></pre>
<pre><code class="language-C++">// The API isBadVersion is defined for you.
// bool isBadVersion(int version);

class Solution {
public:
    int firstBadVersion(int n) {
        int left = 0;
        int right = n;
        while(left &lt; right){
            int mid = left + (right-left)/2;
            if(isBadVersion(mid)){
                //错误版本在左边
                right = mid;
            }else{
                //错误版本在右边
                left = mid+1;
            }
        }

        return left;

    }
};
</code></pre>
<p>思路：</p>
<p>1、mid指向的数不是错误版本：错误版本在后面</p>
<p>2、mid指向的数是错误版本：错误版本在前面</p>
<p>3、本题中必有错误版本：left&lt;right即可</p>
<p>4、right指向的有可能是错误版本的根源也可能不是根源，所以mid应该等于right，而left指向的必定不是错误版本，所以left=mid+1.</p>
<h2 id="153寻找旋转排序的最小值">153.寻找旋转排序的最小值</h2>
<p><a href="https://leetcode.com/problems/find-minimum-in-rotated-sorted-array/description/">Leetcode</a> / <a href="https://leetcode-cn.com/problems/find-minimum-in-rotated-sorted-array/description/">力扣</a></p>
<pre><code>Input: [3,4,5,1,2],
Output: 1
</code></pre>
<pre><code class="language-C++">class Solution {
public:
    int findMin(vector&lt;int&gt;&amp; nums) {
        
        int left = 0;
        int right = nums.size()-1;
        int mid;
        while(left &lt; right){
            mid = left+(right-left)/2;
            
            if(nums[mid] &lt; nums[right]){
                //说明目标值在左侧
                right = mid;
            }else{
                //说明目标值在右侧
                left = mid+1;
            }
        }
        return nums[left];
    }
};
</code></pre>
<p>思路：</p>
<p>观察数组可以知道，经过旋转的数组，旋转点之后的数总是比旋转点之前的数要小，所以只要判断最右边的数和中间值的数的大小情况就可以知道旋转点的位置。</p>
<p>1、最右边的数比中间值小或相等：旋转点一定在中间值后面。</p>
<p>2、最右边的数比中间值大：旋转点在中间值前面或者中间值就是旋转点。</p>
<h2 id="34在排序数组中查找元素的第一个和最后一个位置">34.在排序数组中查找元素的第一个和最后一个位置</h2>
<p><a href="https://leetcode.com/problems/find-first-and-last-position-of-element-in-sorted-array/">Leetcode</a> / <a href="https://leetcode-cn.com/problems/find-first-and-last-position-of-element-in-sorted-array/">力扣</a></p>
<pre><code>Input: nums = [5,7,7,8,8,10], target = 8
Output: [3,4]

Input: nums = [5,7,7,8,8,10], target = 6
Output: [-1,-1]
</code></pre>
<p>题目描述：给定一个有序数组 nums 和一个目标 target，要求找到 target 在 nums 中的第一个位置和最后一个位置。</p>
<pre><code class="language-C++">class Solution {
public:
    vector&lt;int&gt; searchRange(vector&lt;int&gt;&amp; nums, int target) {
        int left = 0;
        int right = nums.size()-1;
        vector&lt;int&gt;ans;
        //返回最左侧的目标值
        while(left &lt; right){
            int mid = left + (right-left)/2;
            if(nums[mid] &lt; target){
                //目标值在右侧
                left = mid+1;
            }else if(nums[mid] &gt;= target){
                //目标值在左侧
                right = mid;
            }
        }
        int start = left;
        //从最左侧开始遍历
        while(left &lt; nums.size() &amp;&amp; nums[left] == target){
            left++;
        }
        if(start &gt; left-1){
            ans.push_back(-1);
            ans.push_back(-1);
            return ans;
        }else{
            ans.push_back(start);
            ans.push_back(left-1);
            return ans;
        }
        
    }
};
</code></pre>
<p>思路：先找到最左侧的数值，再从该数值开始往后遍历看看最后一个数在哪里。</p>
<p>1、中间值比目标值要小：目标值一定在中间值右侧</p>
<p>2、中间值不比目标值小：目标值就是中间值或者目标值在中价值左侧</p>

                </div>
            </article>
        </div>

        
            <div class="next-post">
                <div class="next gt-c-content-color-first">下一篇</div>
                <a href="https://sugar940.github.io/post/tan-xin-suan-fa-he-ji/" class="post-title gt-a-link">
                    贪心算法合集
                </a>
            </div>
        

        
            <span id="/post/er-fen-cha-zhao-he-ji/" class="leancloud_visitors" data-flag-title="二分查找合集">
                <em class="post-meta-item-text">阅读量 </em>
                <i class="leancloud-visitors-count">0</i>
            </span>
        

        

        
            <script src='https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js'></script>

<style>
	div#vcomments{
		width:100%;
		max-width: 1000px;
		padding: 2.5%
	}
</style>


	<div id="vcomments"></div>

<script>
	new Valine({
		el: '#vcomments',
		appId: 'vnUHoSFyqhnMIQ4W57nm5vgf-gzGzoHsz',
		appKey: '5NQPRa7gdsA3w6b3imvc3RgJ',
		avatar: '',
		pageSize: 5,
		recordIp: false,
		placeholder: 'Just Go Go',
		visitor: true,
	});
</script>

        

        <div class="site-footer gt-c-content-color-first">
    <div class="slogan gt-c-content-color-first">舒格小栈</div>
    <div class="social-container">
        
            
        
            
        
            
        
            
        
            
        
            
        
    </div>
    <div class="footer-info">
        
    </div>
    <div>
        Theme by <a href="https://imhanjie.com/" target="_blank">imhanjie</a>, Powered by <a
                href="https://github.com/getgridea/gridea" target="_blank">Gridea | <a href="https://sugar940.github.io//atom.xml" target="_blank">RSS</a></a>
    </div>
</div>

<script>
  hljs.highlightAll()
</script>

    </div>
</div>
</body>
</html>
